{% extends "base.html" %}
{% block title %}{{ article.title }} - Only Informed{% endblock %}
{% block content %}
<h2>{{ article.title }}</h2>
<p class="text-muted">Posted on {{ article.date_posted.strftime('%Y-%m-%d') }}</p>
<p>{{ article.content }}</p>
<p>Source: <a href="{{ article.source }}" target="_blank">{{ article.source }}</a></p>

<!-- Display quiz -->
{% if quiz and quiz_questions %}
    <div class="mt-4">
        <h3>Quiz</h3>
        <form id="quiz-form" data-article-id="{{ article.id }}">
            <!-- Quiz questions will be dynamically inserted here -->
            <div id="quiz-questions"></div>
            <button type="submit" class="btn btn-primary">Submit Quiz</button>
        </form>
        <div id="quiz-results" class="mt-3"></div>
    </div>

    <script>
        const quizData = {{ quiz_questions | tojson | safe }};
    </script>
{% else %}
    <p>No quiz available for this article.</p>
{% endif %}

{% endblock %}